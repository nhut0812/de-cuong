<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ƒê·ªìng b·ªô d·ªØ li·ªáu - Admin</title>
    <link rel="stylesheet" href="css/admin.css">
    <style>
        .sync-container {
            max-width: 900px;
            margin: 40px auto;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 20px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
            max-height: 500px;
            overflow-y: auto;
        }
        .highlight {
            background: #ffd43b;
            padding: 2px 6px;
            border-radius: 4px;
            color: #000;
        }
        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 50%;
            font-weight: 700;
            margin-right: 10px;
        }
        .step {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        .copy-btn {
            background: #51cf66;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
        }
        .copy-btn:hover {
            background: #40c057;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <div class="header-content">
                <h1>üì§ ƒê·ªìng b·ªô d·ªØ li·ªáu l√™n GitHub</h1>
                <a href="admin.html" class="btn btn-secondary">‚Üê Quay l·∫°i Admin</a>
            </div>
        </header>

        <div class="sync-container">
            <div class="info-box">
                <h3>üìã H∆∞·ªõng d·∫´n ƒë·ªìng b·ªô d·ªØ li·ªáu</h3>
                <p>Sau khi ch·ªânh s·ª≠a ƒë·ªÅ c∆∞∆°ng trong Admin, l√†m theo c√°c b∆∞·ªõc sau ƒë·ªÉ m·ªçi ng∆∞·ªùi ƒë·ªÅu xem ƒë∆∞·ª£c:</p>
            </div>

            <div class="step">
                <h3><span class="step-number">1</span>Copy code JavaScript b√™n d∆∞·ªõi</h3>
                <p>Nh·∫•n n√∫t "üìã Copy Code" ƒë·ªÉ copy to√†n b·ªô code</p>
            </div>

            <div class="step">
                <h3><span class="step-number">2</span>M·ªü file js/app.js</h3>
                <p>T√¨m d√≤ng <code class="highlight">const outlinesData = {</code> (kho·∫£ng d√≤ng 6)</p>
            </div>

            <div class="step">
                <h3><span class="step-number">3</span>Thay th·∫ø d·ªØ li·ªáu</h3>
                <p>Ch·ªçn t·ª´ <code>const outlinesData = {</code> ƒë·∫øn h·∫øt d·∫•u <code>};</code> (kho·∫£ng 70 d√≤ng)</p>
                <p>Paste code ƒë√£ copy v√†o</p>
            </div>

            <div class="step">
                <h3><span class="step-number">4</span>L∆∞u v√† Push l√™n GitHub</h3>
                <pre style="background: #1e1e1e; color: #d4d4d4; padding: 15px; border-radius: 6px; margin-top: 10px;">git add js/app.js
git commit -m "C·∫≠p nh·∫≠t d·ªØ li·ªáu ƒë·ªÅ c∆∞∆°ng"
git push</pre>
            </div>

            <div style="margin-top: 30px;">
                <h3>üìù Code ƒë·ªÉ paste v√†o app.js:</h3>
                <button class="copy-btn" onclick="copyCode()">üìã Copy Code</button>
                <pre class="code-block" id="codeBlock">ƒêang t·∫£i d·ªØ li·ªáu...</pre>
            </div>

            <div class="warning-box" style="margin-top: 30px;">
                <h4>‚ö†Ô∏è Quan tr·ªçng</h4>
                <ul>
                    <li>Ph·∫£i thay th·∫ø code trong file <code>js/app.js</code> r·ªìi m·ªõi push</li>
                    <li>N·∫øu kh√¥ng thay th·∫ø, m√°y kh√°c s·∫Ω kh√¥ng th·∫•y d·ªØ li·ªáu m·ªõi</li>
                    <li>Sau khi push, ƒë·ª£i 1-2 ph√∫t ƒë·ªÉ GitHub Pages c·∫≠p nh·∫≠t</li>
                </ul>
            </div>
        </div>
    </div>

    <div id="toast" class="toast"></div>

    <script src="js/app.js"></script>
    <script>
        // Load d·ªØ li·ªáu t·ª´ localStorage
        function loadDataFromStorage() {
            try {
                const savedData = localStorage.getItem('decuong_data');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    generateCode(data);
                } else if (typeof outlinesData !== 'undefined') {
                    generateCode(outlinesData);
                } else {
                    document.getElementById('codeBlock').textContent = 'Kh√¥ng t√¨m th·∫•y d·ªØ li·ªáu. Vui l√≤ng th√™m ƒë·ªÅ c∆∞∆°ng trong Admin tr∆∞·ªõc.';
                }
            } catch (error) {
                console.error('L·ªói:', error);
                document.getElementById('codeBlock').textContent = 'L·ªói khi t·∫£i d·ªØ li·ªáu: ' + error.message;
            }
        }

        // T·∫°o code JavaScript
        function generateCode(data) {
            const code = `const outlinesData = ${JSON.stringify(data, null, 2)};`;
            document.getElementById('codeBlock').textContent = code;
        }

        // Copy code
        function copyCode() {
            const code = document.getElementById('codeBlock').textContent;
            navigator.clipboard.writeText(code).then(() => {
                showToast('‚úÖ ƒê√£ copy code! B√¢y gi·ªù paste v√†o file js/app.js', 'success');
            }).catch(err => {
                showToast('‚ùå Kh√¥ng th·ªÉ copy: ' + err.message, 'error');
            });
        }

        // Toast notification
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 5000);
        }

        // Load khi trang ƒë∆∞·ª£c t·∫£i
        window.addEventListener('DOMContentLoaded', loadDataFromStorage);
    </script>
</body>
</html>
